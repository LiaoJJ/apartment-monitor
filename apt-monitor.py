import time
from datetime import datetime
from abc import abstractmethod, ABC
import threading
import requests
import json
from play_sound import play_sound
from send_an_email import send_email

# Configuration
FranklinStreet_ALERT_PRICE = 3200
MONTICELLO_ALERT_PRICE = 3300
SCS_ALERT_PRICE = 3300
AntonMenlo_ALERT_PRICE = 3300
LYNHAVEN_ALERT_PRICE = 3100
EMAIL_ALERT_ADDRESS = "XX@gmail.com"
INTERVAL_TIME = 1800

# HTTP Setting
scs_url = 'https://search.irvinecompanyapartments.com/multipleQueries'
scs_payload = '{"queries":[{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C3","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C3","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C3","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C5","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C5","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C5","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C9","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C9","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C9","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4295540_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4295540_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4295540_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C21D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C21D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C21D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C28","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C28","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C28","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C30","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C30","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C30","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C32","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C32","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C32","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C36","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C36","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C36","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4422567_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4422567_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4422567_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_4","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C53","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C53","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C53","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C55D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C55D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 11C55D","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C67","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C67","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND unitTypeCode: 22C67","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_31","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_31","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4793545_31","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4699269_21","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4699269_21","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000042f OR propertyCRMID:0x00000000000008d8 OR propertyCRMID:0x0000000000000460 OR propertyCRMID:0x0000000000000461 OR propertyCRMID:0x00000000000008a8 OR propertyCRMID:0x000000000000045f) AND floorplanUniqueID: 4699269_21","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}}]}'
scs_headers = {'authority': 'search.irvinecompanyapartments.com',
               'accept': 'application/json, text/plain, */*',
               'accept-language': 'en-US,en;q=0.9,zh;q=0.8,zh-CN;q=0.7',
               'cache-control': 'no-cache',
               'content-type': 'application/json;charset=UTF-8',
               'origin': 'https://www.irvinecompanyapartments.com',
               'pragma': 'no-cache',
               'referer': 'https://www.irvinecompanyapartments.com/',
               'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
               'sec-ch-ua-mobile': '?0',
               'sec-ch-ua-platform': '"macOS"',
               'sec-fetch-dest': 'empty',
               'sec-fetch-mode': 'cors',
               'sec-fetch-site': 'same-site',
               'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
               'x-referer': 'https://www.irvinecompanyapartments.com/locations/northern-california/santa-clara/santa-clara-square/availability.html'}

lynhaven_url = "https://livelynhaven.com/floorplans/"
lynhaven_payload = 'action=available-units&building='
lynhaven_headers = {'Accept': '*/*',
                    'Accept-Language': 'en-US,en;q=0.9,zh;q=0.8,zh-CN;q=0.7',
                    'Cache-Control': 'no-cache',
                    'Connection': 'keep-alive',
                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
                    'Cookie': 'JonahLead=eyJyZWZlcnJlciI6Imdvb2dsZS5jb20iLCJyZWZlcnJlcl91cmxfcXVlcnlzdHJpbmciOm51bGwsImN1cnJlbnRfdXJsX3F1ZXJ5c3RyaW5nIjoidXRtX3NvdXJjZT1Hb29nbGVMb2NhbExpc3RpbmcmdXRtX21lZGl1bT1vcmdhbmljIiwicHJvcGVydHlfaWRfaW5zdGFsbGVkIjp0cnVlfQ%3D%3D; _ga=GA1.2.734990397.1653022463; _gcl_au=1.1.234958425.1653022465; _bcvm_vrid_6492243747324932241=704983039204449172T0EFA77FC90715E2D85550AE8EEE51C3241C520187FBD3D4719481ABC33FD43897B9B18092DB30D9D78B922D3A9C176C951648D747FC0E7030117064D86CB39BD; OptanonAlertBoxClosed=2022-05-20T04:54:40.221Z; _gid=GA1.2.1109921102.1657044792; PHPSESSID=qgcieh4vds34d98cb08gjv5n05; jonah_popdown=1654116075; _bcvm_vid_6492243747324932241=705026839938161781T35B348BD922A5F4B7DB9E40A47FB70A7090D6CD45AFAAA1D8AB4CFAFBEF0596EDC30B26C00FF07B2579543BB1B75AED1589AD8A1B38A2F3B8D8CDE18D270F82B; _gat_gtag_UA_28486633_68=1; _gat_gtag_UA_167356068_1=1; OptanonConsent=isIABGlobal=false&datestamp=Sat+Jul+09+2022+18%3A57%3A49+GMT-0700+(Pacific+Daylight+Time)&version=6.9.0&hosts=&landingPath=NotLandingPage&groups=C0001%3A1%2CC0003%3A1%2CSPD_BG%3A1%2CC0002%3A1%2CC0004%3A1&geolocation=US%3BCA&AwaitingReconsent=false; bc_pv_end=',
                    'Origin': 'https://livelynhaven.com',
                    'Pragma': 'no-cache',
                    'Referer': 'https://livelynhaven.com/floorplans/',
                    'Sec-Fetch-Dest': 'empty',
                    'Sec-Fetch-Mode': 'cors',
                    'Sec-Fetch-Site': 'same-origin',
                    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
                    'X-Requested-With': 'XMLHttpRequest',
                    'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
                    'sec-ch-ua-mobile': '?0',
                    'sec-ch-ua-platform': '"macOS"'}

monticello_url = 'https://search.irvinecompanyapartments.com/multipleQueries'
monticello_payload = '{"queries":[{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_1","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_1","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_1","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C7","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C7","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C7","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 11C12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:11C16D OR unitTypeCode:11C16)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:11C16D OR unitTypeCode:11C16)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:11C16D OR unitTypeCode:11C16)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C18","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C18","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C18","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND floorplanUniqueID: 3969162_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C27","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C27","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND unitTypeCode: 22C27","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:22C29D OR unitTypeCode:22C29)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:22C29D OR unitTypeCode:22C29)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x000000000000030f OR propertyCRMID:0x00000000000002df) AND (unitTypeCode:22C29D OR unitTypeCode:22C29)","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}}]}'
monticello_headers = {'authority': 'search.irvinecompanyapartments.com',
                      'accept': 'application/json, text/plain, */*',
                      'accept-language': 'en-US,en;q=0.9,zh;q=0.8,zh-CN;q=0.7',
                      'cache-control': 'no-cache',
                      'content-type': 'application/json;charset=UTF-8',
                      'origin': 'https://www.irvinecompanyapartments.com',
                      'pragma': 'no-cache',
                      'referer': 'https://www.irvinecompanyapartments.com/',
                      'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
                      'sec-ch-ua-mobile': '?0',
                      'sec-ch-ua-platform': '"macOS"',
                      'sec-fetch-dest': 'empty',
                      'sec-fetch-mode': 'cors',
                      'sec-fetch-site': 'same-site',
                      'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
                      'x-referer': 'https://www.irvinecompanyapartments.com/locations/northern-california/santa-clara/monticello/availability.html'}

franklinStreet_url = 'https://search.irvinecompanyapartments.com/multipleQueries'
franklinStreet_payload = '{"queries":[{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_11","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_12","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_17","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_19","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitStartingPrice_asc","query":"","params":{"hitsPerPage":1,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_20","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability_unitEarliestAvailable_asc","query":"","params":{"hitsPerPage":2,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_20","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}},{"indexName":"prod_ica_unitAvailability","query":"","params":{"hitsPerPage":5,"attributesToHighlight":[],"filters":"(propertyCRMID:0x0000000000000048) AND floorplanUniqueID: 1078195_20","attributesToRetrieve":["floorplanName","unitMarketingName","featuredAmenity","floorplanUniqueID","floorplanCRMID","unitCRMID","unitTypeCode","propertyID","propertyAddress","buildingNumber","floorplanID","floorplanBath","floorplanBed","floorplanDeposit","unitID","unitFloor","unitSqFt","unitIsStudio","unitTypeName","unitAmenities","unitStartingPrice","unitEarliestAvailable","unitLeasePrice","unitConcessions","communityMarketingName","communityIDAEM","propertyZip","floorplanSqFt"]}}]}'
franklinStreet_headers = {   'authority': 'search.irvinecompanyapartments.com',
   'accept': 'application/json, text/plain, */*',
   'accept-language': 'en-US,en;q=0.9,zh;q=0.8,zh-CN;q=0.7',
   'cache-control': 'no-cache',
   'content-type': 'application/json;charset=UTF-8',
   'origin': 'https://www.irvinecompanyapartments.com',
   'pragma': 'no-cache',
   'referer': 'https://www.irvinecompanyapartments.com/',
   'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
   'sec-ch-ua-mobile': '?0',
   'sec-ch-ua-platform': '"macOS"',
   'sec-fetch-dest': 'empty',
   'sec-fetch-mode': 'cors',
   'sec-fetch-site': 'same-site',
   'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
   'x-referer': 'https://www.irvinecompanyapartments.com/locations/northern-california/redwood-city/franklin-st/availability.html'}

antonmenlo_url = 'https://www.antonmenlo.com/CmsSiteManager/callback.aspx?act=Proxy/GetUnits&available=true&honordisplayorder=true&siteid=7571400&leaseterm=12&dateneeded=2022-07-14&callback=jQuery224042186683290351024_1657840206655&_=1657840206656'
antonmenlo_payload =   { 'authority': 'www.antonmenlo.com',
   'accept': 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01',
   'accept-language': 'en-US,en;q=0.9,zh;q=0.8,zh-CN;q=0.7',
   'cache-control': 'no-cache',
   'cookie': '_ga=GA1.2.522243094.1653028028; _gcl_au=1.1.1333231488.1653028028; rpTrackingExternalUserId=b42523ef-bbac-4ddf-97cc-d51e27105ac8; _gid=GA1.2.93603605.1657821674; __utmc=111291348; __utma=111291348.522243094.1653028028.1657835916.1657840044.11; __utmz=111291348.1657840044.11.11.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); __utmt=1; rpTrackingFirstPartyUserObj=%7B%22id%22%3A%22745b7564-e3bd-40be-9f00-80a32df42bcc%22%2C%22hit%22%3A24%7D; TS0148fe2d=01c7a403d7961752ec59dbcc9e482bc2193cef19b9e45ee5a02431372d33ec0489b160d5291fc889c3600d3d093273579406aaca85035786fdbde58e167507c03f0a7719b1ffffdf64d7055183065720bf2af62a9b50c231b68d05d753cb6b06b2df9227dd2cf00c24309f580f23aa128100da3e36b8a938d408268ec102cdcd0450db1bc8; _gat=1; _gat_gtag_UA_133244202_1=1; __utmb=111291348.2.10.1657840044',
   'pragma': 'no-cache',
   'referer': 'https://www.antonmenlo.com/',
   'sec-ch-ua': '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
   'sec-ch-ua-mobile': '?0',
   'sec-ch-ua-platform': '"macOS"',
   'sec-fetch-dest': 'empty',
   'sec-fetch-mode': 'cors',
   'sec-fetch-site': 'same-origin',
   'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36',
   'x-requested-with': 'XMLHttpRequest',}
antonmenlo_headers = None


def alert(text):
    # play sound
    # send e-mail
    play_sound()
    send_email("AptMonitor Alert", text, EMAIL_ALERT_ADDRESS)


class Strategy(ABC):
    @abstractmethod
    def execute(self, obj11):
        pass

    @abstractmethod
    def check(self):
        pass


class StrategySCSMinPrice(Strategy):
    def __init__(self):
        self.min = 5000

    def execute(self, obj11):
        self.min = min(self.min, obj11["unitStartingPrice"]["price"])

    def check(self):
        print("Min Price: {}".format(self.min))
        if self.min < SCS_ALERT_PRICE:
            print("Santa Clara Square min price: {} < {}".format(self.min, SCS_ALERT_PRICE))
            alert("Santa Clara Square min price: {} < {}".format(self.min, SCS_ALERT_PRICE))


class StrategySCSStudioAvailability(Strategy):
    def __init__(self):
        self.hasStudio = False

    def execute(self, obj11):
        self.hasStudio = self.hasStudio or obj11["unitIsStudio"]
        # print("=====studio Available=====")

    def check(self):
        print("Studio: {}".format(self.hasStudio))
        if self.hasStudio:
            print("Santa Clara Square studio is available")
            alert("Santa Clara Square studio is available")

class StrategyMonticelloMinPrice(Strategy):
    def __init__(self):
        self.min = 5000

    def execute(self, obj11):
        self.min = min(self.min, obj11["unitStartingPrice"]["price"])

    def check(self):
        print("Min Price: {}".format(self.min))
        if self.min < MONTICELLO_ALERT_PRICE:
            print("Monticello min price: {} < {}".format(self.min, MONTICELLO_ALERT_PRICE))
            alert("Monticello min price: {} < {}".format(self.min, MONTICELLO_ALERT_PRICE))


class StrategyMonticelloStudioAvailability(Strategy):
    def __init__(self):
        self.hasStudio = False

    def execute(self, obj11):
        self.hasStudio = self.hasStudio or obj11["unitIsStudio"]
        # print("=====studio Available=====")

    def check(self):
        print("Studio: {}".format(self.hasStudio))
        if self.hasStudio:
            print("FranklinStreet studio is available")
            alert("FranklinStreet studio is available")

class StrategyMonticelloStudioNum(Strategy):
    def __init__(self):
        self.prevNumStudio = -1
        self.numStudio = 0

    def execute(self, obj11):
        if obj11["unitIsStudio"]:
            self.numStudio += 1
        # print("=====studio Available=====")

    def check(self):
        print("num 1B1B: {}".format(self.numStudio))
        if self.numStudio != self.prevNumStudio and self.prevNumStudio != -1:
            print("Monticello new 1b1b is available, prev number: {}, now number: {}".format(self.prevNumStudio,
                                                                                           self.numStudio))
            alert("Monticello new 1b1b is available, prev number: {}, now number: {}".format(self.prevNumStudio,
                                                                                           self.numStudio))
        self.prevNumStudio = self.numStudio
        self.numStudio = 0

class StrategyFranklinStreetMinPrice(Strategy):
    def __init__(self):
        self.min = 5000

    def execute(self, obj11):
        self.min = min(self.min, obj11["unitStartingPrice"]["price"])

    def check(self):
        print("Min Price: {}".format(self.min))
        if self.min < FranklinStreet_ALERT_PRICE:
            print("FranklinStreet min price: {} < {}".format(self.min, FranklinStreet_ALERT_PRICE))
            alert("FranklinStreet min price: {} < {}".format(self.min, FranklinStreet_ALERT_PRICE))


class StrategyFranklinStreetStudioAvailability(Strategy):
    def __init__(self):
        self.hasStudio = False

    def execute(self, obj11):
        self.hasStudio = self.hasStudio or obj11["unitIsStudio"]
        # print("=====studio Available=====")

    def check(self):
        print("Studio: {}".format(self.hasStudio))
        if self.hasStudio:
            print("FranklinStreet studio is available")
            alert("FranklinStreet studio is available")


class StrategyLynhavenMinPrice(Strategy):
    def __init__(self):
        self.min = 5000

    def execute(self, obj11):
        self.min = min(self.min, obj11["min_rent"])

    def check(self):
        print("Min Price: {}".format(self.min))
        if self.min < LYNHAVEN_ALERT_PRICE:
            print("Lynhaven min price: {} < {}".format(self.min, SCS_ALERT_PRICE))
            alert("Lynhaven min price: {} < {}".format(self.min, SCS_ALERT_PRICE))


class StrategyLynhavenNew1B1BAvailable(Strategy):
    def __init__(self):
        self.prevNum1B1B = -1
        self.num1B1B = 0

    def execute(self, obj11):
        bed = obj11["bedroom"]
        bath = obj11["bathroom"]
        floor = obj11["floor"]
        price = obj11["min_rent"]
        if bed == "1" and bath == "1" and floor != "1" and price < 3800:
            self.num1B1B += 1

    def check(self):
        print("num 1B1B: {}".format(self.num1B1B))
        if self.num1B1B != self.prevNum1B1B and self.prevNum1B1B != -1:
            print("Lynhaven new 1b1b is available, prev number: {}, now number: {}".format(self.prevNum1B1B,
                                                                                           self.num1B1B))
            alert("Lynhaven new 1b1b is available, prev number: {}, now number: {}".format(self.prevNum1B1B,
                                                                                           self.num1B1B))
        self.prevNum1B1B = self.num1B1B
        self.num1B1B = 0

class StrategyAntonMenloMinPrice(Strategy):
    def __init__(self):
        self.min = 5000

    def execute(self, obj11):
        self.min = min(self.min, obj11["rent"])

    def check(self):
        print("Min Price: {}".format(self.min))
        if self.min < AntonMenlo_ALERT_PRICE:
            print("AntonMenlo min price: {} < {}".format(self.min, AntonMenlo_ALERT_PRICE))
            alert("AntonMenlo min price: {} < {}".format(self.min, AntonMenlo_ALERT_PRICE))


class StrategyAntonMenloStudioAvailability(Strategy):
    def __init__(self):
        self.hasStudio = False

    def execute(self, obj11):
        isThisStudio = obj11['numberOfBeds'] == 0 and obj11['numberOfBaths'] == 1.0
        self.hasStudio = self.hasStudio or isThisStudio
        # print("=====studio Available=====")

    def check(self):
        print("Studio: {}".format(self.hasStudio))
        if self.hasStudio:
            print("AntonMenlo studio is available")
            alert("AntonMenlo studio is available")



class AptMonitor:
    def runOnce(self):
        pass


class SCSAptMonitor(AptMonitor):
    def __init__(self, url, payload, headers, strategyList):
        self.url = url
        self.payload = payload
        self.headers = headers
        self.strategyList = strategyList

    def runOnce(self):
        r = requests.post(self.url, data=self.payload, headers=self.headers)
        resp = r.json()
        print()
        print("Santa Clara Square Monitor: {} HTTP Status: {}".format(datetime.now(), r.status_code))

        for obj in resp["results"]:
            for obj1 in obj["hits"]:
                for strategy in self.strategyList:
                    strategy.execute(obj1)

        for strategy in self.strategyList:
            strategy.check()

class MonticelloAptMonitor(AptMonitor):
    def __init__(self, url, payload, headers, strategyList):
        self.url = url
        self.payload = payload
        self.headers = headers
        self.strategyList = strategyList

    def runOnce(self):
        r = requests.post(self.url, data=self.payload, headers=self.headers)
        resp = r.json()
        print()
        print("Monticello Monitor: {} HTTP Status: {}".format(datetime.now(), r.status_code))

        for obj in resp["results"]:
            for obj1 in obj["hits"]:
                for strategy in self.strategyList:
                    strategy.execute(obj1)

        for strategy in self.strategyList:
            strategy.check()

class FranklinStreetAptMonitor(AptMonitor):
    def __init__(self, url, payload, headers, strategyList):
        self.url = url
        self.payload = payload
        self.headers = headers
        self.strategyList = strategyList

    def runOnce(self):
        r = requests.post(self.url, data=self.payload, headers=self.headers)
        resp = r.json()
        print()
        print("FranklinStreet Monitor: {} HTTP Status: {}".format(datetime.now(), r.status_code))

        for obj in resp["results"]:
            for obj1 in obj["hits"]:
                for strategy in self.strategyList:
                    strategy.execute(obj1)

        for strategy in self.strategyList:
            strategy.check()


class LynhavenAptMonitor(AptMonitor):
    def __init__(self, url, payload, headers, strategyList):
        self.url = url
        self.payload = payload
        self.headers = headers
        self.strategyList = strategyList

    def runOnce(self):
        r = requests.post(self.url, data=self.payload, headers=self.headers)
        resp = r.json()
        print()
        print("Lynhaven Monitor: {} HTTP Status: {}".format(datetime.now(), r.status_code))

        for obj in resp:
            for strategy in self.strategyList:
                strategy.execute(obj)

        for strategy in self.strategyList:
            strategy.check()

class AntonMenloAptMonitor(AptMonitor):
    def __init__(self, url, payload, headers, strategyList):
        self.url = url
        self.payload = payload
        self.headers = headers
        self.strategyList = strategyList

    def runOnce(self):
        r = requests.post(self.url, data=self.payload, headers=self.headers)
        text = r.text
        idx = text.find('(')
        json_str = text[idx+1: -1]
        json_obj = json.loads(json_str)
        # print(json_obj)

        print("AntonMenlo Monitor: {} HTTP Status: {}".format(datetime.now(), r.status_code))
        for obj in json_obj["units"]:
            for strategy in self.strategyList:
                strategy.execute(obj)

        for strategy in self.strategyList:
            strategy.check()


scsStrategyList = [StrategySCSMinPrice(), StrategySCSStudioAvailability()]
scsMonitor = SCSAptMonitor(scs_url, scs_payload, scs_headers, scsStrategyList)

monticelloStrategyList = [
    StrategyMonticelloMinPrice(),
    # StrategyMonticelloStudioAvailability()
    StrategyMonticelloStudioNum(),
]
monticelloMonitor = MonticelloAptMonitor(monticello_url, monticello_payload, monticello_headers, monticelloStrategyList)

franklinStreetStrategyList = [StrategyFranklinStreetMinPrice(), StrategyFranklinStreetStudioAvailability()]
franklinStreetAptMonitor = FranklinStreetAptMonitor(franklinStreet_url, franklinStreet_payload, franklinStreet_headers, franklinStreetStrategyList)

lynhavenStrategyList = [StrategyLynhavenMinPrice(), StrategyLynhavenNew1B1BAvailable()]
lynhavenMonitor = LynhavenAptMonitor(lynhaven_url, lynhaven_payload, lynhaven_headers, lynhavenStrategyList)

antonmenloStrategyList = [StrategyAntonMenloMinPrice(), StrategyAntonMenloStudioAvailability()]
antonmenloAptMonitor = AntonMenloAptMonitor(antonmenlo_url, antonmenlo_payload, antonmenlo_headers, antonmenloStrategyList)


monitorList = [
    scsMonitor,
    monticelloMonitor,
    lynhavenMonitor,
    franklinStreetAptMonitor,
    antonmenloAptMonitor,
]

while True:
    print()
    for monitor in monitorList:
        t1 = threading.Thread(target=monitor.runOnce)
        t1.start()

    time.sleep(INTERVAL_TIME)
